<div class="widgets">
  <div style="margin-bottom: 24px;">
    <button class="btn btn-primary" (click)="handleBackBtnClick()">返回</button>
    <button class="btn btn-primary" [disabled]="forbidSaveBtn" (click)="handleSaveBtnClick()">保存</button>
  </div>
  <div class="row">
    <div class="col-md-12">
      <seer-collapse-card title="人员管理" cardClass="with-scroll" [canCollapse]=true>
        <form class="form-horizontal">
          <div class="row">
            <div class="form-group col-sm-12 col-md-6 col-lg-6 col-xlg-3">
              <div class="row">
                <label for="name" class="col-sm-4 control-label">员工编号</label>
                <div class="col-sm-8 ">
                  <input type="text" class="form-control" id="staffNo" placeholder="员工编号" [(ngModel)]="staff.staffNo" [ngModelOptions]="{standalone: true}">
                </div>
              </div>
            </div>

            <div class="form-group col-sm-12 col-md-6 col-lg-6 col-xlg-3">
              <div class="row">
                <label for="name" class="col-sm-4 control-label">姓名</label>
                <div class="col-sm-8 ">
                  <input type="text" class="form-control" id="staffName" placeholder="姓名" [(ngModel)]="staff.staffName" [ngModelOptions]="{standalone: true}">
                </div>
              </div>
            </div>

          </div>
        </form>
      </seer-collapse-card>
      <seer-collapse-card title="抵押车辆信息" cardClass="with-scroll" [canCollapse]=true>
        <seer-simple-table
          [titles]=titles
          [data]=data
        ></seer-simple-table>
      </seer-collapse-card>
<!-- <form class="form-horizontal">
    <div class="row">
      <div class="col-xs-12">
      </div>
      <div class="col-xs-12">
        <div class="col-xs-2"><label class="person_label">性别</label></div>
        <div class="col-xs-3">
          <select class="form-control person_space" name="sel1"
                  dict-select
                  [key]="'STAFF_GENDER'"
                  [selected]="currentStaff.staffGender"
                  [topOption]="{dictValueId:'',dictValueName:'请选择'}"
                  [(ngModel)]="currentStaff.staffGender">
          </select>
        </div>
        <div class="col-xs-2"><label class="person_label">民族</label></div>
        <div class="col-xs-3">
          <input type="text" class="form-control person_space" name="currentStaff.staffNation" [(ngModel)]="currentStaff.staffNation"/>
        </div>
        <div class="col-xs-2"></div>
      </div>
      <div class="col-xs-12">
        <div class="col-xs-2"><label class="person_label required">身份证号</label></div>
        <div class="col-xs-3" [ngClass]="{'has-error': checkAllinput&&checkCardId(currentStaff.staffCardId)}">
          <input type="text" class="form-control person_space" name="currentStaff.staffCardId" pattern="^[1-9]\d{5}[1-9]\d{3}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])\d{3}([0-9]|X)$" minlength="18" maxlength="18" required fv [message]="'格式错误，请输入18位数字(最后一位可填写大写英文字母X)。'" [(ngModel)]="currentStaff.staffCardId"/>
        </div>
        <div class="col-xs-2"><label class="person_label">家庭住址</label></div>
        <div class="col-xs-3">
          <input type="text" class="form-control person_space" name="currentStaff.staffAdress" [(ngModel)]="currentStaff.staffAdress"/>
        </div>
        <div class="col-xs-2"></div>
      </div>
      <div class="col-xs-12">
        <div class="col-xs-2"><label class="person_label">籍贯</label></div>
        <div class="col-xs-3">
          <input type="text" class="form-control person_space" name="currentStaff.staffOrigin" [(ngModel)]="currentStaff.staffOrigin"/>
        </div>
        <div class="col-xs-2"><label class="person_label">婚姻情况</label></div>
        <div class="col-xs-3">
          <select class="form-control person_space" name="sel2"
                  dict-select
                  [key]="'IS_MERRIED'"
                  [selected]="currentStaff.isMarried"
                  [topOption]="{dictValueId:'',dictValueName:'请选择'}"
                  [(ngModel)]="currentStaff.isMarried">
          </select>
        </div>
        <div class="col-xs-2"></div>
      </div>
      <div class="col-xs-12">
        <div class="col-xs-2"><label class="person_label">有无子女</label></div>
        <div class="col-xs-3">
          <select class="form-control person_space" name="sel3"
                  dict-select
                  [key]="'HAVE_CHILD'"
                  [selected]="currentStaff.haveChild"
                  [topOption]="{dictValueId:'',dictValueName:'请选择'}"
                  [(ngModel)]="currentStaff.haveChild">
          </select>
        </div>
        <div class="col-xs-2"><label class="person_label required">学历</label></div>
        <div class="col-xs-3" [ngClass]="{'has-error': checkAllinput&&!currentStaff.staffEducation}">
          <select class="form-control person_space" name="sel4" required
                  dict-select
                  [key]="'STAFF_EDUCATION'"
                  [selected]="currentStaff.staffEducation"
                  [topOption]="{dictValueId:'',dictValueName:'请选择'}"
                  [(ngModel)]="currentStaff.staffEducation">
          </select>
        </div>
        <div class="col-xs-2"></div>
      </div>
      <div class="col-xs-12">
        <div class="col-xs-2"><label class="person_label">毕业院校</label></div>
        <div class="col-xs-3">
          <input type="text" class="form-control person_space" name="currentStaff.staffSchool" [(ngModel)]="currentStaff.staffSchool"/>
        </div>
        <div class="col-xs-2"><label class="person_label required">手机号</label></div>
        <div class="col-xs-3" [ngClass]="{'has-error': checkAllinput&&checkPhone(currentStaff.staffPhone)}">
          <input type="text" class="form-control person_space" name="currentStaff.staffPhone" pattern="^1[34578]\d{9}$"  minlength="11" maxlength="11" fv  [message]="'格式错误，请输入11位数字格式。例如：13xxxxxxxxx。'" required [(ngModel)]="currentStaff.staffPhone" (input)="getAccountList()"/>
        </div>
        <div class="col-xs-2"></div>
      </div>
      <div class="col-xs-12">
        <div class="col-xs-2"><label class="person_label required">QQ号</label></div>
        <div class="col-xs-3" [ngClass]="{'has-error': checkAllinput&&checkQq(currentStaff.staffQq)}">
          <input type="text" class="form-control person_space" name="currentStaff.staffQq" pattern="^(0|[1-9][0-9]*)$" min="10000" minlength="5" maxlength="15" fv [message]="'格式错误，请输入大于5位小于15位数字格式（最小值为10000）。例如：10000。'"  required [(ngModel)]="currentStaff.staffQq"/>
        </div>
        <div class="col-xs-2"><label class="person_label required">邮箱</label></div>
        <div class="col-xs-3" [ngClass]="{'has-error': checkAllinput&&checkEmail(currentStaff.staffMail)}">
          <input type="email" class="form-control person_space" name="currentStaff.staffMail" pattern="^[a-z0-9]+([._\-]*[a-z0-9])*@([a-z0-9]+[-a-z0-9]*[a-z0-9]+.){1,63}[a-z0-9]+$" fv [message]="'格式错误，请输入正确的格式。例如：xxxxxxx@xx.xx。'" required [(ngModel)]="currentStaff.staffMail" (input)="getAccountList()"/>
        </div>
        <div class="col-xs-2"></div>
      </div>
      <div class="col-xs-12">
        <div class="col-xs-2"><label class="person_label">微信号</label></div>
        <div class="col-xs-3">
          <input type="text" class="form-control person_space" name="currentStaff.staffWechat" [(ngModel)]="currentStaff.staffWechat" (input)="getAccountList()"/>
        </div>
        <div class="col-xs-2"><label class="person_label">家庭电话</label></div>
        <div class="col-xs-3">
          <input type="text" class="form-control person_space" name="currentStaff.staffTel" [(ngModel)]="currentStaff.staffTel"/>
        </div>
        <div class="col-xs-2"></div>
      </div>
      <div class="col-xs-12">
        <div class="col-xs-2"><label class="person_label">紧急联系人</label></div>
        <div class="col-xs-3">
          <input type="text" class="form-control person_space" name="currentStaff.staffContacts" [(ngModel)]="currentStaff.staffContacts"/>
        </div>
        <div class="col-xs-2"><label class="person_label">紧急联系人电话</label></div>
        <div class="col-xs-3">
          <input type="text" class="form-control person_space" name="currentStaff.staffContactsPhone" [(ngModel)]="currentStaff.staffContactsPhone"/>
        </div>
        <div class="col-xs-2"></div>
      </div>
      <div class="col-xs-12">
        <div class="col-xs-2"><label class="person_label">合同类型</label></div>
        <div class="col-xs-3">
          <select class="form-control person_space" name="sel5"
                  [(ngModel)]="contractType">
            <option *ngFor="let x of translate.contractType"
                    [ngValue]="x.dictValueId">
              {{x.dictValueName}}
            </option>
          </select>
        </div>
        <div class="col-xs-2"><label class="person_label">合同编号</label></div>
        <div class="col-xs-3">
          <input type="text" class="form-control person_space" name="currentStaff.contractId" [(ngModel)]="currentStaff.contractId"/>
        </div>
        <div class="col-xs-2"></div>
      </div>
      <div class="col-xs-12">
        <div class="col-xs-2"><label class="person_label">合同签订日期</label></div>
        <div class="col-xs-3">
          <input
            readonly="readonly"
            class="form-control person_space"
            name="currentStaff.contractBeginTime"
            [(ngModel)]="currentStaff.contractBeginTime"
            close-on-select="true"
            date-only="true"
            ng2-datetime-picker
          />
        </div>
        <div class="col-xs-2"><label class="person_label">合同结束日期</label></div>
        <div class="col-xs-3">
          <input
            readonly="readonly"
            class="form-control person_space"
            name="currentStaff.contractEndTime"
            [(ngModel)]="currentStaff.contractEndTime"
            close-on-select="true"
            date-only="true"
            ng2-datetime-picker
          />
        </div>
        <div class="col-xs-2"></div>
      </div>
      <div class="col-xs-12">
        <div class="col-xs-2"><label class="person_label">入职时间</label></div>
        <div class="col-xs-3">
          <input
            readonly="readonly"
            class="form-control person_space"
            name="currentStaff.staffEntryDate"
            [(ngModel)]="currentStaff.staffEntryDate"
            close-on-select="true"
            date-only="true"
            ng2-datetime-picker
          />
        </div>
        <div class="col-xs-2"><label class="person_label">离职时间</label></div>
        <div class="col-xs-3">
          <input
            readonly="readonly"
            class="form-control person_space"
            name="currentStaff.staffDimissionDate"
            [(ngModel)]="currentStaff.staffDimissionDate"
            close-on-select="true"
            date-only="true"
            ng2-datetime-picker
          />
        </div>
        <div class="col-xs-2"></div>
      </div>
      <div class="col-xs-12">
        <div class="col-xs-2"><label class="person_label required">员工状态</label></div>
        <div class="col-xs-3" [ngClass]="{'has-error': checkAllinput&&!currentStaff.staffState}">
          <select class="form-control person_space" name="sel6" required
                  dict-select
                  [key]="'STAFF_STATE'"
                  [selected]="currentStaff.staffState"
                  [topOption]="{dictValueId:'',dictValueName:'请选择'}"
                  [(ngModel)]="currentStaff.staffState">
          </select>
        </div>
        <div class="col-xs-2"><label class="person_label required">员工等级</label></div>
        <div class="col-xs-3" [ngClass]="{'has-error': checkAllinput&&!currentStaff.staffLevel}">
          <select class="form-control person_space" name="sel7" required
                  dict-select
                  [key]="'STAFF_LEVEL'"
                  [selected]="currentStaff.staffLevel"
                  [topOption]="{dictValueId:'',dictValueName:'请选择'}"
                  [(ngModel)]="currentStaff.staffLevel">
          </select>
        </div>
      </div>
      <div class="col-xs-12">
        <div class="col-xs-2"><label class="person_label required">所属组织机构</label></div>
        <div class="col-xs-3">
          <div class="form-group">
            <div class="input-group" [ngClass]="{'has-error': checkAllinput&&!currentStaff.staffOrgId}">
              <input class="form-control person_space" readonly="readonly" type="text" required name="staffOrgName" [(ngModel)]="staffOrgName"/>
              <input style="display: none" type="text" class="form-control" name="currentStaff.staffOrgId" required [(ngModel)]="currentStaff.staffOrgId"/>
              <span class="input-group-btn">
                <a class="btn btn-default seer_link" (click)="loadOrgList()"><i class="fa fa-search" aria-hidden="true"></i></a>
              </span>
            </div>
          </div>
        </div>
        <div class="col-xs-7"></div>
      </div>
      <div class="col-xs-12">
        <div class="col-xs-2">
          <div class="cognate_top_label" *ngIf="!currentStaff.id"></div>
          <div class="cognate_mid_label" *ngIf="isCognate&&accountList.length>0">
            <label class="person_label">选择账户</label>
          </div>
          <div class="cognate_foot_label" *ngIf="isCognate&&cognateAccount.length>0&&cognateAccount!=[]">
            <label class="person_label">选择角色</label>
          </div>
          <div style="float: left;color:#F00;width: 300%; margin-top:20px;" >{{selsectNotes}}</div>
        </div>
        <div class="col-xs-3">
          <div>
            <div class="cognate_top">
              <input type="checkbox" class="person_cognate" name="isCognate" [(ngModel)]="isCognate" (change)="getAccountList()"/>是否关联
            </div>
          </div>
          <div>
            <div class="staff_select" *ngIf="isCognate&&accountList.length>0">
              <div class="col-sm-6 col-xs-12 col-md-6 col-lg-4" name ="accountLists" (change)="removeCurrentRole()">
                <ss-multiselect-dropdown
                  name = "accountListss"
                  [options]="accountData"
                  [(ngModel)]="cognateAccount"
                  (ngModelChange)="onChangeColonne($event)"
                  class="pull-left allocation_list_space"
                  [settings]="dropdownSettings"
                  [texts]="myRepertoryTexts"
                  style="margin-left:5px"
                ></ss-multiselect-dropdown>
              </div>
              <select class="form-control person_space" name="sel"
                      [(ngModel)]="cognateAccount" (change)="removeCurrentRole()">
                <option *ngFor="let x of accountList"
                        [ngValue]="x.key">
                &lt;!&ndash;<option *ngFor="let x of [{key:currentStaff.staffNo,label:'员工编号'},{key:currentStaff.staffPhone,label:'手机号'},{key:currentStaff.staffMail,label:'邮箱'},{key:currentStaff.staffWechat,label:'微信'}]"&ndash;&gt;
                        &lt;!&ndash;[ngValue]="x.key">&ndash;&gt;
                  {{x.label}}
                </option>
              </select>
            </div>
            <div></div>
          </div>
          <div>
            <div class="staff_role" *ngIf="isCognate&&cognateAccount.length>0&&cognateAccount!=[]">
              <select class="form-control person_space" name="sel8"
                      [(ngModel)]="currentRole">
                <option *ngFor="let role of roleData"
                        [ngValue]="role">
                  {{role.roleName}}
                </option>
              </select>
            </div>
          </div>
        </div>

        <div class="col-xs-2">
          <tr>
            <td class="person_td">
              <label class="person_label">上传图片</label>
            </td>
          </tr>
          <tr>
            <td class="person_td">
              <div class="alert alert-danger" *ngIf="imageError">{{imageError}}</div>
            </td>
          </tr>
        </div>
        
        <div class="col-xs-3 staff_picture">
          <div class="picture-group" [ngClass]="{uploading: uploadInProgress}">
            <div class="picture-wrapper" (click)="bringFileSelector();">
              <img src="{{ picture }}" *ngIf="picture">
              <img src="{{ defaultPicture }}" *ngIf="!picture && defaultPicture">

              <div class="loading" *ngIf="uploadInProgress">
                <div class="spinner">
                  <div class="double-bounce1"></div>
                  <div class="double-bounce2"></div>
                </div>
              </div>
            </div>
            <i class="ion-ios-close-outline" (click)="removePicture();" *ngIf="picture && canDelete"></i>
            <a href class="change-picture" (click)="bringFileSelector();">选择图片</a>
            <input #fileUpload type="file" name="file" hidden="true" id="uploadFile" (change)="onFiles()">
          </div>
        </div>

        <div class="col-xs-2"></div>
      </div>
    </div>
  
</form> -->
      
    </div>
</div>


<div dynamic-component></div>