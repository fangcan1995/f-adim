
 <form (submit)="save()">
  <div class="form-page-header">
    <button type="button" class="btn btn-default" (click)="goBack()">返回列表</button>
    <button type="submit" class="btn btn-primary">保存</button>
  </div>
  <seer-card [title]="title" >
    <div class="row">
        <button type="button"  class="btn btn-primary"  (click)="chooseInfo();">选择模板信息</button>
    </div>
    <div class="form-group" style="margin-top:20px;">
        <div class="row">
            <div class="form-group col-sm-12 col-md-6 col-lg-6 col-xlg-3">
              <div class="row">
                <label for="name" class="col-sm-4 control-label" style="height:35px; line-height:35px;">模板名称</label>
                <div class="col-sm-8 ">
                  <input type="text" class="form-control" id="name" placeholder="模板名称">
                </div>
              </div>
            </div>
            <div class="form-group col-sm-12 col-md-6 col-lg-6 col-xlg-3">
              <div class="row">
                <label for="name" class="col-sm-4 control-label" style="height:35px; line-height:35px;">业务类型</label>
                <div class="col-sm-8 ">
                  <input type="text" class="form-control" id="name" placeholder="业务类型">
                </div>
              </div>
            </div>
            <div class="form-group col-sm-12">
                <div class="row">
                    <label for="debtIntroduction" class="col-sm-4 col-md-2 col-xlg-1 control-label">模板内容</label>
                    <div class="col-sm-8 col-md-10 col-xlg-11">
                        <textarea class="form-control" id="debtIntroduction" placeholder="模板内容"></textarea>
                    </div>
                </div>
            </div> 
        </div>
    </div> 
  </seer-card> 
    <seer-card [title]="basicTitle" >
        <div class="form-group" style="margin-top:20px;">
            <div class="row">
                <div class="form-group col-sm-12 col-md-6 col-lg-6 col-xlg-3">
                <div class="row">
                    <label for="name" class="col-sm-4 control-label" style="height:35px; line-height:35px;">消息主题</label>
                    <div class="col-sm-8 ">
                    <input type="text" class="form-control" id="name" placeholder="模板名称">
                    </div>
                </div>
                </div>
                <div class="form-group col-sm-12 col-md-6 col-lg-6 col-xlg-3">
                <div class="row">
                    <label for="name" class="col-sm-4 control-label" style="height:35px; line-height:35px;">消息类型</label>
                    <div class="col-sm-8 ">
                        <select type="email" class="form-control" name="inputTplType" id="inputTplType" [(ngModel)]="template.tplType" dict-select required
                            [key]="'MESSAGE_TEMPLATE_TYPE'"
                            [topOption]="{dictValueId:'',dictValueName:'请选择'}"
                            [selected]="template.tplType" >
                        </select>
                    </div>
                </div>
                </div>
            </div>
        </div> 
    </seer-card> 
    <seer-card [title]="sendTitle" >
        <div class="row" style="margin-top:20px;">
            <div class="form-group col-sm-12 col-md-6 col-lg-6 col-xlg-3">
                <div class="row">
                    <label for="name" class="col-sm-4 control-label" style="height:35px; line-height:35px;">发送方式</label>
                    <div class="col-sm-8 ">
                    <input type="text" class="form-control" id="name" placeholder="发送方式">
                    </div>
                </div>
            </div>
            <div class="form-group col-sm-12 col-md-6 col-lg-6 col-xlg-3">
                <div class="row">
                    <label for="name" class="col-sm-4 control-label" style="height:35px; line-height:35px;">发送用户</label>
                    <div class="col-sm-8 ">
                        <select type="email" class="form-control" name="inputTplType" id="inputTplType" [(ngModel)]="template.tplType" dict-select required
                            [key]="'MESSAGE_TEMPLATE_TYPE'"
                            [topOption]="{dictValueId:'',dictValueName:'请选择'}"
                            [selected]="template.tplType" >
                        </select>
                    </div>
                </div>
            </div>
            <div class="form-group col-sm-12 col-md-6 col-lg-3 col-xlg-1">
                <div class="row">
                    <button type="button"  class="btn btn-primary" (click)="open(template)" style="margin-top:5px;">选择用户</button>
                    <template #template>
                        <div class="modal-header" style="border-bottom:2px solid #00abff;padding:5px 0; ">
                            <h4 class="modal-title pull-left" style="height:40px; line-height:40px; float:left; text-indent:1em;">选择人员</h4>
                            <!-- <span aria-hidden="true" class="close pull-right" aria-label="Close" (click)="modalRef.hide()" style="display:inline-block; margin:0; padding:0; float:right;">&times;</span> -->
                            <!-- <button type="button" class="close pull-right" aria-label="Close" (click)="modalRef.hide()">
                            <span aria-hidden="true" >&times;</span> 
                            </button> -->
                        </div>
                        <div class="modal-body">
                            <!-- <div style="width:100%; height:auto;">
                                <ul style="width:100%; height:25px; border-bottom:1px solid #000; list-style:none;">
                                    <li style="float:left; margin-right:15px;">区域：</li>
                                    <li style="float:left; margin-right:15px; color:#5ea7e0;">龙区</li>
                                    <li style="float:left; margin-right:15px; color:#5ea7e0;">辽区</li>
                                </ul>
                                <ul style="width:100%; height:25px; border-bottom:1px solid #000; list-style:none;">
                                    <li style="float:left;  margin-right:15px;">年龄：</li>
                                    <li style="float:left;margin-right:15px; color:#5ea7e0;">龙区</li>
                                    <li style="float:left;margin-right:15px; color:#5ea7e0;">辽区</li>
                                </ul>
                                <ul style="width:100%; height:25px; border-bottom:1px solid #000;list-style:none;">
                                    <li style="float:left;  margin-right:15px;">性别：</li>
                                    <li style="float:left;margin-right:15px; color:#5ea7e0;">男</li>
                                    <li style="float:left;margin-right:15px; color:#5ea7e0;">女</li>
                                </ul>
                                <ul style="width:100%; height:25px; border-bottom:1px solid #000;list-style:none;">
                                    <li style="float:left;  margin-right:15px;">分险等级：</li>
                                    <li style="float:left;margin-right:15px; color:#5ea7e0;">A-AAA</li>
                                    <li style="float:left;margin-right:15px; color:#5ea7e0;">B-BBB</li>
                                </ul>
                            </div> -->
                            <seer-collapse-card>
                                <seer-filter
                                [hasGlobalFilter]="hasGlobalFilter"
                                [filters]="filters"
                                (onFiltersChanged)=handleFiltersChanged($event)
                                (onSearchBtnClicked)=handleSearchBtnClicked($event)
                                ></seer-filter>  
                            </seer-collapse-card>
                            <seer-collapse-card>
                                <seer-table
                                [data]="source"
                                [titles]="titles"
                                [translate]="dict"
                                [hideExport]="true"
                                [hidePrint]="true"
                                [hideActions]="true"
                                [hideColumns]="true"
                                [hideAddButton]="true" 
                                [hideRemoveAll]="true"
                                (notify)="onChange($event)"
                                ></seer-table>
                            </seer-collapse-card> 
                        </div>
                    </template>  
                </div>
            </div>
            <div class="form-group col-sm-12 col-md-6 col-lg-3 col-xlg-1">
                <div class="row">
                    <button type="button"  class="btn btn-primary"  style="margin-top:5px;">导入</button>
                </div>
            </div>
        </div>
    </seer-card> 
</form> 
<div dynamic-component></div>