
<seer-content-top>
  <button class="btn btn-outline-dark" (click)="handleBackBtnClick()">返回</button>
  <button class="btn btn-outline-dark" (click)="submitAudit()">提交</button>
</seer-content-top>

<div class="widgets">
  <div class="row justify-content-center">
      <div class="col-md-12">

        <seer-collapse-card cardTitle="会员信息" cardClass="with-scroll" [canCollapse]="true">
          <div class="row">
            <form class="form-horizontal" [formGroup]="memberForm">
              <div class="form-group col-sm-12 col-md-6 col-lg-6 col-xlg-3">
                <div class="row">
                  <label for="account" class="col-sm-4 control-label">用户名</label>
                  <div class="col-sm-8">
                    <input class="form-control" id="account" placeholder="用户名" [(ngModel)]="member.userName" [ngModelOptions]="{standalone: true}" disabled>
                  </div>
                </div>
              </div>
              <div class="form-group col-sm-12 col-md-6 col-lg-6 col-xlg-3">
                <div class="row">
                  <label for="realName" class="col-sm-4 control-label">真实姓名</label>
                  <div class="col-sm-8 ">
                    <input class="form-control" id="realName" placeholder="客户姓名" [(ngModel)]="member.trueName" [ngModelOptions]="{standalone: true}" disabled>
                  </div>
                </div>
              </div>
              <div class="form-group col-sm-12 col-md-6 col-lg-6 col-xlg-3">
                <div class="row">
                  <label for="mobilePhone" class="col-sm-4 control-label">手机号</label>
                  <div class="col-sm-8">
                    <input class="form-control" id="mobilePhone" placeholder="手机号" [(ngModel)]="member.phoneNumber" [ngModelOptions]="{standalone: true}" disabled>
                  </div>
                </div>
              </div>
              <div class="form-group col-sm-12 col-md-6 col-lg-6 col-xlg-3">
                <div class="row">
                  <label for="idNumber" class="col-sm-4 control-label">身份证号</label>
                  <div class="col-sm-8">
                    <input class="form-control" id="idNumber" placeholder="身份证号" [(ngModel)]="member.idNumber" [ngModelOptions]="{standalone: true}" disabled>
                  </div>
                </div>
              </div>
              <div class="form-group col-sm-12 col-md-6 col-lg-6 col-xlg-3">
                <div class="row">
                  <label for="m_sex" class="col-sm-4 control-label">性别</label>
                  <div class="col-sm-8">
                    <select class="form-control" id="m_sex" placeholder="" [(ngModel)]="member.mSex" name="msex"  formControlName="msex" disabled
                            dict-select
                            [key]="'M_SEX'"
                            [selected]="member.mSex"
                            [topOption]="{itemid:'',itemName:'请选择'}" >
                    </select>
                    <p *ngIf="memberForm.controls.msex.errors?.min" class="text-danger">请选择该项</p>
                  </div>
                </div>
              </div>
              <div class="form-group col-sm-12 col-md-6 col-lg-6 col-xlg-3">
                <div class="row">
                  <label for="age" class="col-sm-4 control-label">年龄</label>
                  <div class="col-sm-8">
                    <input class="form-control" id="age" placeholder="年龄" [(ngModel)]="member.mAge" name="mage" formControlName="mage" disabled>
                    <p *ngIf="memberForm.controls.mage.invalid && memberForm.controls.mage.errors?.number" class="text-danger">请输入正确数字</p>
                  </div>
                </div>
              </div>
              <div class="form-group col-sm-12 col-md-6 col-lg-6 col-xlg-3">
                <div class="row">
                  <label for="education" class="col-sm-4 control-label">学历</label>
                  <div class="col-sm-8">
                    <select class="form-control" id="education" placeholder="" [(ngModel)]="member.education" [ngModelOptions]="{standalone: true}" disabled
                            dict-select
                            [key]="'EDUCATION'"
                            [selected]="member.education"
                            [topOption]="{itemid:'',itemName:'请选择'}">
                    </select>
                  </div>
                </div>
              </div>
              <div class="form-group col-sm-12 col-md-6 col-lg-6 col-xlg-3">
                <div class="row">
                  <label for="maritaStatus" class="col-sm-4 control-label" >婚姻状况</label>
                  <div class="col-sm-8">
                    <select class="form-control" id="maritaStatus" placeholder="" [(ngModel)]="member.maritaStatus" [ngModelOptions]="{standalone: true}" disabled
                            dict-select
                            [key]="'MARRAGE_STATUS'"
                            [selected]="member.maritaStatus"
                            [topOption]="{itemid:'',itemName:'请选择'}">
                    </select>
                  </div>
                </div>
              </div>
              <div class="col-sm-12 col-md-12 col-lg-12 col-xlg-12">
                <div class="row">
                  <label for="domicilePlace" class="col-sm-4 col-md-2 col-lg-2 col-xlg-1 control-label">户口所在地</label>
                  <div class="col-sm-8 col-md-10 col-lg-10 col-xlg-10" id="domicilePlace">
                    <seer-address-picker (notify)="domicilePlaceChanged($event)" [defaultItemCode]="member.domicileDistrict" [defaultAddress]="member.domicileAddress" ></seer-address-picker>
                  </div>
                </div>
              </div>
              <div class="col-sm-12 col-md-12 col-lg-12 col-xlg-12">
                <div class="row">
                  <label for="currentResidence" class="col-sm-4 col-md-2 col-lg-2 col-xlg-1 control-label">现居住地</label>
                  <div class="col-sm-8 col-md-10 col-lg-10 col-xlg-10" id="currentResidence">
                    <seer-address-picker (notify)="currentResidenceChanged($event)" [defaultItemCode]="member.liveDistrict" [defaultAddress]="member.liveAddress" [classNames]="classNames" >
                      <!--<div *ngIf="!disabled" class="col-sm-1 col-md-1 col-lg-12 col-xlg-2" >
                        <div class="checkbox">
                          <label><input type="checkbox" (click)="shortcut($event)"><span class="text">同户籍地址</span></label>
                        </div>
                      </div>-->
                    </seer-address-picker>
                  </div>
                </div>
              </div>
              <div class="form-group col-sm-12 col-md-12 col-lg-12 col-xlg-12">
                <div class="row">
                  <label for="AssetsIntro" class="control-label col-sm-1 col-md-2 col-lg-2 col-xlg-1 ">资产介绍</label>
                  <div class="col-sm-11 col-md-10 col-lg-10 col-xlg-11">
                    <textarea class="form-control" id="AssetsIntro" style="overflow: hidden; word-wrap: break-word; resize: horizontal; height: 84px;" [(ngModel)]="member.assetDesc" name="assetDesc" [disabled]="disabled" placeholder="请输入资产介绍" formControlName="assetDesc" disabled></textarea>
                    <p *ngIf="memberForm.controls.assetDesc.errors?.required" class="text-danger">该项不能为空</p>
                  </div>
                </div>
              </div>
              <div class="form-group col-sm-12 col-md-12 col-lg-12 col-xlg-12">
                <div class="row">
                  <label for="debtIntro" class="control-label col-sm-1 col-md-2 col-lg-2 col-xlg-1 ">债务介绍</label>
                  <div class="col-sm-11 col-md-10 col-lg-10 col-xlg-11">
                    <textarea class="form-control" id="debtIntro" style="overflow: hidden; word-wrap: break-word; resize: horizontal; height: 84px;" [(ngModel)]="member.debtDesc" name="debtDesc" [disabled]="disabled" placeholder="请输入债务介绍" formControlName="debtDesc" disabled></textarea>
                    <p *ngIf="memberForm.controls.debtDesc.errors?.required" class="text-danger">该项不能为空</p>
                  </div>
                </div>
              </div>
            </form>
            <div class="form-group col-sm-12 col-md-12 col-lg-12 col-xlg-12">
              <div class="row">
                <label for="credit" class="control-label col-sm-1 col-md-2 col-lg-2 col-xlg-1 ">信用信息</label>
                <div class="col-sm-11 col-md-10 col-lg-10 col-xlg-11">
                  <div class="form-group col-sm-12 col-md-6 col-lg-4 col-xlg-3">
                    <div class="row">
                      <div class="card checkable-card" style="max-width: 20rem;">
                        <div class="card-header">个人风险报告</div>
                        <div class="card-body text-secondary">
                          <p class="card-text">{{member.updateTime || '暂未查询'}}</p>
                          <ng-container *ngIf="!member.updateTime">
                            <a href="javascript:void(0)" class="card-link" (click)="query(member, 1)">查询</a>
                          </ng-container>
                          <ng-container *ngIf="member.updateTime">
                            <a href="javascript:void(0)" class="card-link" (click)="preview(member)">预览</a>
                            <a href="javascript:void(0)" class="card-link" (click)="download(member)">下载</a>
                            <a *ngIf="!disabled" href="javascript:void(0)" class="card-link" (click)="requery(member, 1)">重新获取</a>
                          </ng-container>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div class="form-group col-sm-12 col-md-6 col-lg-4 col-xlg-3">
                    <div class="row">
                      <div ngClass="{}" class="card checkable-card" style="max-width: 20rem;">
                        <div class="card-header">个人信用报告</div>
                        <div class="card-body text-secondary">
                          <p class="card-text">{{member.updateTime || '暂未查询'}}</p>
                          <ng-container *ngIf="!member.updateTime">
                            <a href="javascript:void(0)" class="card-link" (click)="query(member, 2)">查询</a>
                          </ng-container>
                          <ng-container *ngIf="member.updateTime">
                            <a href="javascript:void(0)" class="card-link" (click)="preview(member)">预览</a>
                            <a href="javascript:void(0)" class="card-link" (click)="download(member)">下载</a>
                            <a *ngIf="!disabled" href="javascript:void(0)" class="card-link" (click)="requery(member, 2)">重新获取</a>
                          </ng-container>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div class="form-group col-sm-12 col-md-6 col-lg-4 col-xlg-3">
                    <div class="row">
                      <!--<div class="card checkable-card active" style="max-width: 20rem;">-->
                      <div class="card checkable-card" style="max-width: 20rem;">
                        <div class="card-header">个人反欺诈报告</div>
                        <div class="card-body text-secondary">
                          <p class="card-text">{{member.updateTime || '暂未查询'}}</p>
                          <ng-container *ngIf="!member.updateTime">
                            <a href="javascript:void(0)" class="card-link" (click)="query(member, 3)">查询</a>
                          </ng-container>
                          <ng-container *ngIf="member.updateTime">
                            <a href="javascript:void(0)" class="card-link" (click)="preview(member)">预览</a>
                            <a href="javascript:void(0)" class="card-link" (click)="download(member)">下载</a>
                            <a *ngIf="!disabled" href="javascript:void(0)" class="card-link" (click)="requery(member, 3)">重新获取</a>
                          </ng-container>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </seer-collapse-card>

        <seer-collapse-card cardTitle="借款信息" cardClass="with-scroll" [canCollapse]="true">

          <!--借款基本信息-->
          <div class="row">
            <form class="form-horizontal" [formGroup]="loanForm">
              <div class="form-group col-sm-12 col-md-6 col-lg-6 col-xlg-3">
                <div class="row">
                  <label for="loanApplyType" class="col-sm-4 control-label">借款类型</label>
                  <div class="col-sm-8">
                    <select class="form-control" id="loanApplyType" placeholder="" [(ngModel)]="loan.loanType" (change)="loanTypeChange()" name="loanType" formControlName="loanType" disabled
                            dict-select
                            [key]="'LOAN_TYPE'"
                            [selected]="loan.loanType"
                            [topOption]="{itemid:'',itemName:'请选择'}">
                    </select>
                    <p *ngIf="loanForm.controls.loanType.errors?.min" class="text-danger">请选择该项</p>
                  </div>
                </div>
              </div>
              <div class="form-group col-sm-12 col-md-6 col-lg-6 col-xlg-3">
                <div class="row">
                  <label for="applyAmt" class="col-sm-4 control-label">借款金额</label>
                  <div class="col-sm-8">
                    <input currencyMask [options]="{ prefix: '￥', allowZero: false}" class="form-control" id="applyAmt" placeholder="借款金额" [(ngModel)]="loan.applyAmt" name="applyAmt" formControlName="applyAmt" disabled>
                    <p *ngIf="loanForm.controls.applyAmt.errors?.min" class="text-danger">借款金额最小为100元</p>
                  </div>
                </div>
              </div>
              <div class="form-group col-sm-12 col-md-6 col-lg-6 col-xlg-3">
                <div class="row">
                  <label for="loanApplyExpiry" class="col-sm-4 control-label">借款期限</label>
                  <div class="col-sm-8 ">
                    <select class="form-control" id="loanApplyExpiry" placeholder="" [(ngModel)]="loan.loanExpiry" [disabled]="disabled" name="loanApplyExpiry" formControlName="loanApplyExpiry" disabled
                            dict-select
                            [key]="'LOAN_APPLY_EXPIRY'"
                            [selected]="loan.loanApplyExpiry"
                            [topOption]="{itemid:'',itemName:'请选择'}">
                    </select>
                    <p *ngIf="loanForm.controls.loanApplyExpiry.errors?.min" class="text-danger">请选择该项</p>
                  </div>
                </div>
              </div>
              <div class="form-group col-sm-12 col-md-6 col-lg-6 col-xlg-3">
                <div class="row">
                  <label for="greenHand" class="col-sm-4 control-label">新手标</label>
                  <div class="col-sm-8 ">
                    <select class="form-control" id="greenHand" placeholder="" [(ngModel)]="loan.greenHand"  [ngModelOptions]="{standalone: true}" disabled
                            dict-select
                            [key]="'GREEN_HAND'"
                            [selected]="loan.greenHand">
                    </select>
                  </div>
                </div>
              </div>
              <div class="form-group col-sm-12 col-md-6 col-lg-6 col-xlg-3">
                <div class="row">
                  <label for="projectName" class="col-sm-4 control-label">项目名称</label>
                  <div class="col-sm-8">
                    <input class="form-control" id="applyNum" placeholder="项目名称" [(ngModel)]="loan.applyNum" [ngModelOptions]="{standalone: true}" disabled>
                  </div>
                </div>
              </div>
              <div class="form-group col-sm-12 col-md-6 col-lg-6 col-xlg-3">
                <div class="row">
                  <label for="rate" class="col-sm-4 control-label">年利率</label>
                  <div class="col-sm-8">
                    <input currencyMask [options]="{ prefix : '', suffix : '%', allowZero: true}"  class="form-control" id="annualRate" placeholder="年利率" [(ngModel)]="loan.annualRate" [disabled]="disabled" name="annualRate" formControlName="annualRate" disabled>
                    <p *ngIf="loanForm.controls.annualRate.errors?.min" class="text-danger">年利率不能为0%</p>
                  </div>
                </div>
              </div>
              <div class="form-group col-sm-12 col-md-6 col-lg-6 col-xlg-3">
                <div class="row">
                  <label for="raiseRate" class="col-sm-4 control-label">加息</label>
                  <div class="col-sm-8 ">
                    <input currencyMask [options]="{ prefix : '', suffix : '%', allowZero: true}"  class="form-control" id="raiseRate" placeholder="加息" [(ngModel)]="loan.raiseRate" [ngModelOptions]="{standalone: true}" disabled>
                  </div>
                </div>
              </div>
              <div class="form-group col-sm-12 col-md-6 col-lg-6 col-xlg-3">
                <div class="row">
                  <label for="repayType" class="col-sm-4 control-label">还款方式</label>
                  <div class="col-sm-8">
                    <select class="form-control" id="repayType" placeholder="" [(ngModel)]="loan.repayType" [disabled]="disabled" name="repayType" formControlName="repayType" disabled
                            dict-select
                            [key]="'REFUND_WAY'"
                            [selected]="loan.repayType"
                            [topOption]="{itemid:'',itemName:'请选择'}">
                    </select>
                    <p *ngIf="loanForm.controls.repayType.errors?.min" class="text-danger">请选择该项</p>
                  </div>
                </div>
              </div>
              <div class="form-group col-sm-12 col-md-6 col-lg-6 col-xlg-3">
                <div class="row">
                  <label for="serviceRate" class="col-sm-4 control-label">手续费</label>
                  <div class="col-sm-8">
                    <input currencyMask [options]="{ prefix: '￥', allowZero: false}"  class="form-control" id="serviceRate" placeholder="手续费" [(ngModel)]="loan.serviceRate" [disabled]="disabled" name="serviceRate" formControlName="serviceRate" disabled>
                    <p *ngIf="loanForm.controls.serviceRate.errors?.min" class="text-danger">手续费不能为0</p>
                  </div>
                </div>
              </div>
              <div class="form-group col-sm-12 col-md-6 col-lg-6 col-xlg-3">
                <div class="row">
                  <label for="loanPurpose" class="col-sm-4 control-label">借款用途</label>
                  <div class="col-sm-8 ">
                    <select class="form-control" id="loanPurpose" placeholder="" [(ngModel)]="loan.loanPurpose" [disabled]="disabled"  [ngModelOptions]="{standalone: true}" disabled
                            dict-select
                            [key]="'LOAN_PURPOSE'"
                            [selected]="loan.loanPurpose"
                            [topOption]="{itemid:'',itemName:'请选择'}">
                    </select>
                  </div>
                </div>
              </div>
              <div class="form-group col-sm-12 col-md-6 col-lg-6 col-xlg-3">
                <div class="row">
                  <label for="minInvestAmount" class="col-sm-4 control-label">最小投资金额</label>
                  <div class="col-sm-8">
                    <input currencyMask [options]="{ prefix: '￥', allowZero: false}" class="form-control" id="minInvestAmount" placeholder="请输入最小投资金额" [(ngModel)]="loan.minInvestAmount"  [disabled]="disabled" name="minInvestAmount" formControlName="minInvestAmount" disabled>
                    <p *ngIf="loanForm.controls.minInvestAmount.errors?.min" class="text-danger">最小投资金额应大于0元</p>
                  </div>
                </div>
              </div>
              <div class="form-group col-sm-12 col-md-6 col-lg-6 col-xlg-3">
                <div class="row">
                  <label for="maxInvestAmount" class="col-sm-4 control-label">最大投资金额</label>
                  <div class="col-sm-8">
                    <input currencyMask [options]="{ prefix: '￥', allowZero: false}" class="form-control" id="maxInvestAmount" placeholder="请输入最大投资金额" [(ngModel)]="loan.maxInvestAmount"  [disabled]="disabled" name="maxInvestAmount" formControlName="maxInvestAmount" disabled>
                    <p *ngIf="loanForm.controls.maxInvestAmount.errors?.min" class="text-danger">最大投资金额应大于0元</p>
                  </div>
                </div>
              </div>
              <!--<div class="form-group col-sm-12 col-md-6 col-lg-6 col-xlg-3">
                <div class="row">
                  <label for="repayFrom" class="col-sm-4 control-label">还款来源</label>
                  <div class="col-sm-8">
                    <select class="form-control" id="repayFrom" placeholder="" [(ngModel)]="loan.repayFrom" [ngModelOptions]="{standalone: true}" [disabled]="disabled"
                            dict-select
                            [key]="'PAYMENTING_SOURCE'"
                            [selected]="loan.repayFrom"
                            [topOption]="{itemid:'',itemName:'请选择'}">
                    </select>
                  </div>
                </div>
              </div>-->
            </form>
          </div>
          <hr>
          <!-- 抵押物信息 -->
          <div class="row">
            <div class="form-group col-sm-12 col-md-12 col-lg-12 col-xlg-12">
              <label *ngIf="loan.loanType == 1" class="control-label col-sm-1 col-md-2 col-lg-2 col-xlg-1 ">抵押车辆</label>
              <label *ngIf="loan.loanType == 2" class="control-label col-sm-1 col-md-2 col-lg-2 col-xlg-1 ">抵押房屋</label>
              <div *ngIf="loan.loanType == 1" class="col-sm-11 col-md-10 col-lg-10 col-xlg-11">
                <!-- 抵押车辆 -->
                <div *ngIf="pawnVehicle != null" class="form-group col-sm-12 col-md-6 col-lg-4 col-xlg-3">
                  <div class="row">
                    <div class="card checkable-card active" style="max-width: 20rem;">
                      <div class="card-header">{{pawnVehicle.carBrand}}-{{pawnVehicle.carModel}}</div>
                      <div class="card-body text-secondary">
                        <p class="card-text">{{pawnVehicle.carNumber}}、行驶{{pawnVehicle.mileage}}公里、{{pawnVehicle.carAge}}年车龄、评估价格为{{pawnVehicle.pricePotential}}元</p>
                        <a href="javascript:void(0)" class="card-link" (click)="vehicleModal(vehicleTemplate, true, pawnVehicle)">查看详情</a>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <div *ngIf="loan.loanType == 2" class="col-sm-11 col-md-10 col-lg-10 col-xlg-11">
                <!-- 抵押房屋 -->
                <div *ngIf="pawnHouse != null "  class="form-group col-sm-12 col-md-6 col-lg-4 col-xlg-3">
                  <div class="row">
                    <div class="card checkable-card active" style="max-width: 20rem;">
                      <div class="card-header">价格：{{pawnHouse.pricePotential}}</div>
                      <div class="card-body text-secondary">
                        <p class="card-text">{{pawnHouse.houseAdress}}、{{pawnHouse.area}} </p>
                        <a href="javascript:void(0)" class="card-link" (click)="houseModal(houseTemplate, true, pawnHouse)">查看详情</a>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <hr>
          <!-- 抵押物资料 -->
          <div class="row">
            <div class="form-group col-sm-12 col-md-12 col-lg-12 col-xlg-12">
              <div class="row">
                <label class="control-label col-sm-1 col-md-2 col-lg-2 col-xlg-1 ">审核资料</label>
              </div>
            </div>
            <div class="form-group col-sm-12 col-md-12 col-lg-12 col-xlg-12">
              <div class="row">
                <label class="control-label col-sm-1 col-md-2 col-lg-2 col-xlg-1 "></label>
                <div class="col-sm-11 col-md-10 col-lg-10 col-xlg-11">
                  <ng-container *ngFor="let item of auditMaterials; let i = index">
                    <ng-container *ngIf="imageType.indexOf(item.fileSuff.toLowerCase()) != -1">
                      <div class="form-group col-sm-6 col-md-4 col-lg-3 col-xlg-2">
                        <div class="row">
                          <img src="{{item.uploadPath}}" height="108px"><p></p>
                          <a href="javascript:void(0)" class="card-link" (click)="downloadFile(item)">下载</a>
                        </div>
                      </div>
                    </ng-container>
                  </ng-container>
                  <ng-container *ngFor="let item of auditMaterials; let i = index">
                    <ng-container *ngIf="imageType.indexOf(item.fileSuff.toLowerCase()) == -1">
                      <div class="form-group col-sm-12 col-md-6 col-lg-4 col-xlg-3">
                        <div class="row">
                          <div class="card" style="width: 20rem;">
                            <div class="card-body">
                              <h4 class="card-title"></h4>
                              <h6 class="card-subtitle mb-2 text-muted"> </h6>
                              <p class="card-text">{{item.fileName}}</p>
                              <p class="card-text">{{item.createTime}}</p>
                              <a href="javascript:void(0)" class="card-link" (click)="downloadFile(item)">下载</a>
                            </div>
                          </div>
                        </div>
                      </div>
                    </ng-container>
                  </ng-container>
                  <!--<ng-container *ngIf="attachments.length == 0">暂未添加审核资料</ng-container>-->
                </div>
              </div>
            </div>
          </div>

        </seer-collapse-card>

        <seer-collapse-card cardTitle="审批流程" cardClass="with-scroll" [canCollapse]=true [defaultExpand]=true>
          <ng-container *ngIf="auditProcessRecords.length > 0">
            <seer-simple-table
              [data]="auditProcessRecords"
              [titles]="auditProcessTitle"
              [hidePagination]="true"
              [hideActions]="true"
              [hideAddButton]="true"
            ></seer-simple-table>
          </ng-container>
          <ng-container *ngIf="auditProcessRecords.length == 0">暂无审批流程</ng-container>
        </seer-collapse-card>

        <seer-collapse-card cardTitle="审批信息" cardClass="with-scroll" [canCollapse]=true [defaultExpand]=true>
          <div class="row">
            <div class="form-group col-sm-12 col-md-8 col-lg-6 col-xlg-3">
              <div class="row">
                <label for="actionType" class="col-sm-4 control-label">提交审批</label>
                <div class="col-sm-8">
                  <div class="radio">
                    <label class="radio-inline"><input type="radio" name="auditResult" value="pass"   [(ngModel)]="auditResult">通过</label>
                    <label class="radio-inline"><input type="radio" name="auditResult" value="return" [(ngModel)]="auditResult">退回</label>
                    <label class="radio-inline"><input type="radio" name="auditResult" value="refuse" [(ngModel)]="auditResult">拒绝（结束）</label>
                  </div>
                </div>
              </div>
            </div>
            <div class="form-group col-sm-12 col-md-4 col-lg-2 col-xlg-2">
              <div class="row">
                <div class="col-sm-12">
                  <select *ngIf="auditResult != 'pass'" class="form-control" id="auditReason" [(ngModel)]="auditReason" [ngModelOptions]="{standalone: true}">
                    <option value="">请选择原因</option>
                    <option value="基本信息问题">基本信息问题</option>
                    <option value="基本信息问题">借款信息问题</option>
                    <option value="费用问题">费用问题</option>
                    <option value="抵押物问题">抵押物问题</option>
                    <option value="审批资料问题">审批资料问题</option>
                    <option value="其他问题">其他问题</option>
                  </select>
                </div>
              </div>
            </div>
            <div class="form-group col-sm-12 col-md-12 col-lg-12 col-xlg-12">
              <div class="row">
                <label for="auditOpinion" class="control-label col-sm-1 col-md-2 col-lg-2 col-xlg-1 ">审批意见</label>
                <div class="col-sm-11 col-md-10 col-lg-10 col-xlg-11">
                  <textarea class="form-control" id="auditOpinion" [(ngModel)]="auditOpinion" [ngModelOptions]="{standalone: true}" style="overflow: hidden; word-wrap: break-word; resize: horizontal; height: 84px;" placeholder="请输入审批意见"></textarea>
                </div>
              </div>
            </div>

          </div>
        </seer-collapse-card>

      </div>
  </div>
</div>

<!-- create vehicle modal -->
<ng-template #vehicleTemplate>
  <div class="modal-header">
    <h5 class="modal-title pull-left">
      <ng-container *ngIf="!vehicleReadOnly">新增车辆</ng-container>
      <ng-container *ngIf="vehicleReadOnly">查看详情</ng-container></h5>
    <!--<button type="button" class="close pull-right" aria-label="Close" (click)="modalRef.hide()">
      <span aria-hidden="true">&times;</span>
    </button>-->
  </div>
  <div class="modal-body">
    <form class="form-horizontal" [formGroup]="vehicleForm">
      <div class="row">
        <div class="form-group col-sm-12 col-md-12 col-lg-12 col-xlg-12">
          <div class="row">
            <label for="brand" class="col-sm-4 control-label text-right">车辆品牌</label>
            <div class="col-sm-8">
              <input class="form-control" id="brand" placeholder="请输入车辆品牌" [(ngModel)]="vehicle.carBrand" name="carBrand" formControlName="carBrand">
              <p *ngIf="vehicleForm.controls.carBrand.errors?.required" class="text-danger">必填项</p>
            </div>
          </div>
        </div>
        <div class="form-group col-sm-12 col-md-12 col-lg-12 col-xlg-12">
          <div class="row">
            <label for="model" class="col-sm-4 control-label text-right">车辆型号</label>
            <div class="col-sm-8">
              <input class="form-control" id="model" placeholder="请输入车辆型号" [(ngModel)]="vehicle.carModel" name="carModel" formControlName="carModel">
              <p *ngIf="vehicleForm.controls.carModel.errors?.required" class="text-danger">必填项</p>
            </div>
          </div>
        </div>
        <div class="form-group col-sm-12 col-md-12 col-lg-12 col-xlg-12">
          <div class="row">
            <label for="vin" class="col-sm-4 control-label text-right">车架号</label>
            <div class="col-sm-8">
              <input class="form-control" id="vin" placeholder="请输入车架号" [(ngModel)]="vehicle.viNumber" name="viNumber" formControlName="viNumber">
              <p *ngIf="vehicleForm.controls.viNumber.errors?.required" class="text-danger">必填项</p>
            </div>
          </div>
        </div>
        <div class="form-group col-sm-12 col-md-12 col-lg-12 col-xlg-12">
          <div class="row">
            <label for="lpn" class="col-sm-4 control-label text-right">车牌号</label>
            <div class="col-sm-8">
              <input class="form-control" id="lpn" placeholder="请输入车牌号" [(ngModel)]="vehicle.carNumber" name="carNumber" formControlName="carNumber">
              <p *ngIf="vehicleForm.controls.carNumber.errors?.required" class="text-danger">必填项</p>
            </div>
          </div>
        </div>
        <div class="form-group col-sm-12 col-md-12 col-lg-12 col-xlg-12">
          <div class="row">
            <label for="certificateNumber" class="col-sm-4 control-label text-right">登记证号</label>
            <div class="col-sm-8">
              <input class="form-control" id="certificateNumber" placeholder="请输入登记证号" [(ngModel)]="vehicle.carRegNumber" name="carRegNumber" formControlName="carRegNumber">
              <p *ngIf="vehicleForm.controls.carRegNumber.errors?.required" class="text-danger">必填项</p>
            </div>
          </div>
        </div>
        <!--<div class="form-group col-sm-12 col-md-12 col-lg-12 col-xlg-12">
          <div class="row">
            <label for="autoAge" class="col-sm-4 control-label text-right">车龄</label>
            <div class="col-sm-8">
              <input class="form-control" id="autoAge" placeholder="请输入车龄" [(ngModel)]="vehicle.carAge" name="carAge" formControlName="carAge">
              <p *ngIf="vehicle_form.controls.carAge.errors?.required" class="text-danger">必填项</p>
            </div>
          </div>
        </div>-->
        <div class="form-group col-sm-12 col-md-12 col-lg-12 col-xlg-12">
          <div class="row">
            <label for="purchaseYear" class="col-sm-4 control-label text-right">购车年份</label>
            <div class="col-sm-8">
              <input class="form-control" id="purchaseYear" placeholder="请输入车龄" [(ngModel)]="vehicle.purchaseYear" name="purchaseYear" formControlName="purchaseYear">
              <p *ngIf="vehicleForm.controls.purchaseYear.errors?.required" class="text-danger">必填项</p>
            </div>
          </div>
        </div>
        <div class="form-group col-sm-12 col-md-12 col-lg-12 col-xlg-12">
          <div class="row">
            <label for="range" class="col-sm-4 control-label text-right">行驶里程</label>
            <div class="col-sm-8">
              <input class="form-control" id="range" placeholder="请输入行驶里程" [(ngModel)]="vehicle.mileage" name="mileage" formControlName="mileage">
              <p *ngIf="vehicleForm.controls.mileage.errors?.required" class="text-danger">必填项</p>
            </div>
          </div>
        </div>
        <div class="form-group col-sm-12 col-md-12 col-lg-12 col-xlg-12">
          <div class="row">
            <label for="evaluatedPrice" class="col-sm-4 control-label text-right">评估价格</label>
            <div class="col-sm-8">
              <input class="form-control" id="evaluatedPrice" placeholder="请输入评估价格" [(ngModel)]="vehicle.pricePotential" name="pricePotential" formControlName="pricePotential">
              <p *ngIf="vehicleForm.controls.pricePotential.errors?.required" class="text-danger">必填项</p>
            </div>
          </div>
        </div>
      </div>
    </form>
  </div>
  <div class="modal-footer">
    <ng-container *ngIf="!vehicleReadOnly">
      <button type="button" class="btn btn-sx btn-info" [disabled]="!vehicleForm.valid" (click)="addVehicle(vehicle)">确定</button>
    </ng-container>
    <button type="button"  class="btn btn-default" (click)="modalRef.hide()">关闭</button>
  </div>
</ng-template>

<!-- create house modal -->
<ng-template #houseTemplate>
  <div class="modal-header">
    <h5 class="modal-title pull-left">
      <ng-container *ngIf="!houseReadOnly">新增房屋</ng-container>
      <ng-container *ngIf="houseReadOnly" >查看详情</ng-container>
    </h5>
    <!--<button type="button" class="close pull-right" aria-label="Close" (click)="modalRef.hide()">
      <span aria-hidden="true">&times;</span>
    </button>-->
  </div>
  <div class="modal-body">
    <form class="form-horizontal" [formGroup]="houseForm">
      <div class="row">
        <div class="form-group col-sm-12 col-md-12 col-lg-12 col-xlg-12">
          <div class="row">
            <label for="brand" class="col-sm-4 control-label text-right">房产地址</label>
            <div class="col-sm-8">
              <input class="form-control" id="brand" placeholder="请输入房产地址" [(ngModel)]="house.houseAdress" name="houseAdress" formControlName="houseAdress">
              <p *ngIf="houseForm.controls.houseAdress.errors?.required" class="text-danger">必填项</p>
            </div>
          </div>
        </div>
        <div class="form-group col-sm-12 col-md-12 col-lg-12 col-xlg-12">
          <div class="row">
            <label for="houseType" class="col-sm-4 control-label text-right">房屋类型</label>
            <div class="col-sm-8">
              <select class="form-control" id="houseType" placeholder="" [(ngModel)]="house.houseType" name="houseType" formControlName="houseType"
                      dict-select
                      [key]="'HOUSE_TYPE'"
                      [selected]="house.houseType"
                      [topOption]="{itemid:'',itemName:'请选择'}">
              </select>
            </div>
          </div>
        </div>
        <div class="form-group col-sm-12 col-md-12 col-lg-12 col-xlg-12">
          <div class="row">
            <label for="floorage" class="col-sm-4 control-label text-right">建筑面积</label>
            <div class="col-sm-8">
              <input class="form-control" id="floorage" placeholder="请输入建筑面积" [(ngModel)]="house.area" name="area" formControlName="area">
              <p *ngIf="houseForm.controls.area.errors?.required" class="text-danger">必填项</p>
            </div>
          </div>
        </div>
        <!--<div class="form-group col-sm-12 col-md-12 col-lg-12 col-xlg-12">
          <div class="row">
            <label for="houseAge" class="col-sm-4 control-label text-right">房龄</label>
            <div class="col-sm-8">
              <input class="form-control" id="houseAge" placeholder="请输入房龄" [(ngModel)]="house.houseAge" name="houseAge" formControlName="houseAge">
              <p *ngIf="house_form.controls.houseAge.errors?.required" class="text-danger">必填项</p>
            </div>
          </div>
        </div>-->
        <div class="form-group col-sm-12 col-md-12 col-lg-12 col-xlg-12">
          <div class="row">
            <label for="completionYear" class="col-sm-4 control-label text-right">竣工年份</label>
            <div class="col-sm-8">
              <input class="form-control" id="completionYear" placeholder="请输入车龄" [(ngModel)]="house.completionYear" name="completionYear" formControlName="completionYear">
              <p *ngIf="houseForm.controls.completionYear.errors?.required" class="text-danger">必填项</p>
            </div>
          </div>
        </div>
        <div class="form-group col-sm-12 col-md-12 col-lg-12 col-xlg-12">
          <div class="row">
            <label for="debt" class="col-sm-4 control-label text-right">尚欠贷余额</label>
            <div class="col-sm-8">
              <input class="form-control" id="debt" placeholder="请输入尚欠贷余额" [(ngModel)]="house.debtMoney" name="debtMoney" formControlName="debtMoney">
              <p *ngIf="houseForm.controls.debtMoney.errors?.required" class="text-danger">必填项</p>
            </div>
          </div>
        </div>
        <div class="form-group col-sm-12 col-md-12 col-lg-12 col-xlg-12">
          <div class="row">
            <label for="landCertificate" class="col-sm-4 control-label text-right">土地所有证号</label>
            <div class="col-sm-8">
              <input class="form-control" id="landCertificate" placeholder="请输入土地所有证号" [(ngModel)]="house.landNo" name="landNo" formControlName="landNo">
              <p *ngIf="houseForm.controls.landNo.errors?.required" class="text-danger">必填项</p>
            </div>
          </div>
        </div>
        <div class="form-group col-sm-12 col-md-12 col-lg-12 col-xlg-12">
          <div class="row">
            <label for="houseCertificate" class="col-sm-4 control-label text-right">房屋产权所有证号</label>
            <div class="col-sm-8">
              <input class="form-control" id="houseCertificate" placeholder="请输入房屋产权所有证号" [(ngModel)]="house.houseBelongNo" name="houseBelongNo" formControlName="houseBelongNo">
              <p *ngIf="houseForm.controls.houseBelongNo.errors?.required" class="text-danger">必填项</p>
            </div>
          </div>
        </div>
        <div class="form-group col-sm-12 col-md-12 col-lg-12 col-xlg-12">
          <div class="row">
            <label for="evaluatedPrice" class="col-sm-4 control-label text-right">评估价格</label>
            <div class="col-sm-8">
              <input class="form-control" id="evaluatedPrice" placeholder="请输入评估价格" [(ngModel)]="house.pricePotential" name="pricePotential" formControlName="pricePotential">
              <p *ngIf="houseForm.controls.pricePotential.errors?.required" class="text-danger">必填项</p>
            </div>
          </div>
        </div>
      </div>
    </form>
  </div>
  <div class="modal-footer">
    <ng-container *ngIf="!houseReadOnly">
      <button type="button" class="btn btn-sx btn-info" [disabled]="!houseForm.valid" (click)="addHouse(house)">确定</button>
    </ng-container>
    <button type="button"  class="btn btn-default" (click)="modalRef.hide()">关闭</button>
  </div>
</ng-template>
