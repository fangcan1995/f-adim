<seer-content-top>
  <button class="btn btn-outline-dark left-button" (click)="handleBackBtnClick()">返回</button>
  <button class="btn btn-primary left-button" [disabled]="forbidSaveBtn" (click)="handleSaveBtnClick()">保存</button>
</seer-content-top>
<div class="widgets">
  <form >
    <div class="row justify-content-center">
      <div class="col-md-12">
        <seer-collapse-card title="基本信息" >
          <div class="row">
            <div class="row">
              <div class="col-sm-6 col-xs-12 col-md-6 col-lg-3">
                <div class="form-group">
                  <label class="col-sm-4 control-label">消息名称</label>
                  <div class="col-sm-8 ">
                    <input type="text" name="message.id" [(ngModel)]="message.id">
                    <input type="text" class="form-control" id="msgTitle"  [(ngModel)]="message.msgTitle" name="msgTitle"    required >
                  </div>
                </div>
              </div>
            </div>
            <div class="row">

              <div class="col-sm-6 col-xs-12 col-md-6 col-lg-3">
                <div class="form-group">
                  <label class="col-sm-4 control-label">适配用户</label>
                  <div class="col-sm-8 ">
                    <select class="form-control"  disabled *ngIf="isAdd==false">
                      <option value="message.adaptationUser">{{message.adaptationUser}}</option>
                    </select>
                    <select class="form-control" id="adaptationUser" name="adaptationUser"  *ngIf="isAdd==true" (change)="selectUsersType($event.target.value)" >
                      <option>请选择</option>
                      <option value="frontend">前台用户</option>
                      <option value="backend">后台用户</option>
                    </select>
                    <!--<select type="email" class="form-control" name="contractType" id="staffState" (change)="selectUsersType($event.target.value)"  [(ngModel)]="staff.staffState" dict-select required
                            [key]="'STAFF_STATE'"
                            [topOption]="{dictValueId:'',dictValueName:'请选择'}"
                            [selected]="staff.staffState" >
                    </select>-->
                  </div>
                </div>
              </div>
              <div class="col-sm-6 col-xs-12 col-md-6 col-lg-3">
                <div class="form-group">
                  <label class="col-sm-4 control-label">消息类型</label>
                  <div class="col-sm-8 ">
                    <select class="form-control" id="businessType"   >
                      <option>请选择</option>
                    </select>
                  </div>
                </div>
              </div>
            </div>
            <div class="row">
              <div class="col-sm-6 col-xs-12 col-md-6 col-lg-6">
                <div class="form-group">
                  <label class="col-sm-2 control-label">显示范围</label>
                  <div class="col-sm-8 ">
                    <seer-checkbox (click)="ckboxToggle('sendMail')" [isChecked]="IsChecked.sendMail" [label]="'消息中心'" [disabled]="disabled.sendMail"></seer-checkbox>
                    <seer-checkbox (click)="ckboxToggle('sendNotify')" [isChecked]="IsChecked.sendNotify" [label]="'推送通知'" [disabled]="disabled.sendNotify"></seer-checkbox>
                    <seer-checkbox (click)="ckboxToggle('sendMessage')" [isChecked]="IsChecked.sendMessage" [label]="'短信通知'" [disabled]="disabled.sendMessage"></seer-checkbox>
                  </div>
                </div>
              </div>
            </div>
            <div class="row">
              <div class="col-sm-6 col-xs-12 col-md-6 col-lg-3">
                <div class="form-group">
                  <label class="col-sm-4 control-label">下发时间</label>
                  <div class="col-sm-8 ">
                    <seer-datepicker [(date)]="message.expectSendTime" name="expectSendTime" ></seer-datepicker>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </seer-collapse-card>
        <seer-collapse-card title="消息内容">
          <div class="row">
            <div class="col-sm-12 col-xs-12 col-md-6 col-lg-6">
              <div class="form-group">
                <label class="col-sm-2 control-label">消息简介</label>
                <div class="col-sm-10 ">
                  <input type="text" class="form-control" id="msgProfile" name="msgProfile">
                </div>
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col-sm-12 col-xs-12 col-md-6 col-lg-6">
              <div class="form-group">
                <label class="col-sm-2 control-label">消息内容</label>
                <div class="col-sm-10 ">
                  <textarea class="form-control" id="msgContent" name="msgContent" ></textarea>
                </div>
              </div>
            </div>
          </div>

        </seer-collapse-card>
        <seer-collapse-card title="接收用户" >
          <div class="row">
            <button type="button"  class="btn btn-primary" (click)="openModal(members)" [disabled]="isPickUsersAble">选择用户</button>
            <template #members>
              <div class="modal-header" style="border-bottom:2px solid #00abff;padding:5px 0; ">
                <h4 class="modal-title pull-left" style="height:40px; line-height:40px; float:left; text-indent:1em;">选择人员</h4>
              </div>
              <div class="modal-body">
                <seer-collapse-card
                  title="查询条件"
                  [headerActions]="cardActions1"
                  (notify)="modalChange($event)"
                  [canCollapse]=true
                >
                  <div class="row">
                    <div class="col-sm-12 col-xs-12 col-md-12 col-lg-12">
                      <div class="form-group">
                        <label class="col-sm-4 control-label">用户身份</label>
                        <div class="col-sm-8 ">
                          <select class="form-control" >
                            <option>请选择</option>
                          </select>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div class="row">
                    <div class="col-sm-12 col-xs-12 col-md-12 col-lg-12">
                      <div class="form-group">
                        <label class="col-sm-4 control-label">区域</label>
                        <div class="col-sm-8 ">
                          <select class="form-control"  >
                            <option>请选择</option>
                          </select>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div class="row">
                    <div class="col-sm-12 col-xs-12 col-md-12 col-lg-12">
                      <div class="form-group">
                        <label class="col-sm-4 control-label">年龄</label>
                        <div class="col-sm-8 ">
                          <select class="form-control" >
                            <option>请选择</option>
                            <option>小于25</option>
                            <option>25-30</option>
                            <option>31-40</option>
                            <option>41-50</option>
                            <option>50以上</option>
                          </select>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div class="row">
                    <div class="col-sm-12 col-xs-12 col-md-12 col-lg-12">
                    <div class="form-group">
                      <label class="col-sm-4 control-label">性别</label>
                      <div class="col-sm-8 ">
                        <select class="form-control" >
                          <option>请选择</option>
                        </select>
                      </div>
                    </div>
                  </div>
                  </div>
                  <div class="row">
                    <div class="col-sm-12 col-xs-12 col-md-12 col-lg-12">
                      <div class="form-group">
                        <label class="col-sm-4 control-label">用户投资状态</label>
                        <div class="col-sm-8 ">
                          <select class="form-control" >
                            <option>请选择</option>
                            <option>未投资</option>
                            <option>已投资</option>
                          </select>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div class="row">
                    <div class="col-sm-12 col-xs-12 col-md-12 col-lg-12">
                      <div class="form-group">
                        <label class="col-sm-4 control-label">投资时间</label>
                        <div class="col-sm-8 ">
                          <seer-datepicker></seer-datepicker>-<seer-datepicker></seer-datepicker>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div class="row">
                    <div class="col-sm-12 col-xs-12 col-md-12 col-lg-12">
                      <div class="form-group">
                        <label class="col-sm-4 control-label">累计投资金额</label>
                        <div class="col-sm-8 ">
                          <input type="text" class="form-control2" id="ljtzje1" placeholder="" [(ngModel)]="message.ljtzje1" name="ljtzje1">元
                          至<input type="text" class="form-control2" id="ljtzje2" placeholder="" [(ngModel)]="message.ljtzje2" name="ljtzje2">元
                        </div>
                      </div>
                    </div>
                  </div>
                  <div class="row">
                    <div class="col-sm-12 col-xs-12 col-md-12 col-lg-12">
                      <div class="form-group">
                        <label class="col-sm-4 control-label">单笔投资金额</label>
                        <div class="col-sm-8 ">
                          <input type="text" class="form-control2" id="dbtzje1" placeholder="" [(ngModel)]="message.dbtzje1" name="dbtzje1">元
                          至<input type="text" class="form-control2" id="dbtzje2" placeholder="" [(ngModel)]="message.dbtzje2" name="dbtzje2">元
                        </div>
                      </div>
                    </div>
                  </div>
                  <div class="row">
                    <div class="col-sm-12 col-xs-12 col-md-12 col-lg-12">
                      <div class="form-group">
                        <label class="col-sm-4 control-label">邀请人数</label>
                        <div class="col-sm-8 ">
                          <input type="text" class="form-control2" id="yqrs1" placeholder="" [(ngModel)]="message.yqrs1" name="yqrs1">人
                          至<input type="text" class="form-control2" id="yqrs2" placeholder="" [(ngModel)]="message.yqrs2" name="yqrs2">人
                        </div>
                      </div>
                    </div>
                  </div>
                </seer-collapse-card>
                <seer-collapse-card
                  title="人员列表"
                  [headerActions]="cardActions2"
                  (notify)="modalChange($event)"
                >
                  <seer-table
                    [data]="modalUsers"
                    [titles]="modelTitles"
                    [pageNum]="modalPageInfo.pageNum"
                    [pageSize]="modalPageInfo.pageSize"
                    [total]="modalPageInfo.total"
                    [paginationRules]="0"
                    [translate]="translate"
                    (changePage)="modalPageChange($event)"
                    [hideExport]="true"
                    [hidePrint]="true"
                    [hideRemoveAll]="true"
                    [hideColumns]="true"
                    [hideAddButton]="true"
                    [hideActions]="true"
                    (notify)="onChange($event)"
                  ></seer-table>
                </seer-collapse-card>
              </div>
            </template>
          </div>
          <button (click)="putInUsers('')" class="btn btn-outline-dark left-button" disabled>导入用户</button>

        </seer-collapse-card>
      </div>
    </div>
  </form>
</div>
